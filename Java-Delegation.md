## Delegation Regex for Java

### Use case

If you ever want to delegate a abstract class or an interface quickly, you can use this regex to replace all of them

### Tested IDE

- :warning: IntelliJ IDEA (You need to do it in another way because Java doesn't have an engine that supports variable-width lookbehind)
- :white_check_mark: VSCode

### Usage

```java
public class ExampleDelegation {
    
    // You have to add the property and the class yourself
    private final ExampleInterface original;
    
    public ExampleDelegation(ExampleInterface original) {
        this.original = original;
    }
    
    // (Things below should be generated by an IDE)
    public Object delegationMethod(Object parameter) {
        return null;
    }
}
```

Full instruction:

1. Make it extends/implements the class/interface you'd like to delegate
2. Override all methods you'd like to delegate (In IntelliJ IDEA: `Ctrl + O`)
3. Remove the extends/implements part (replace `(extends|implements) [\w_][\w\n_]*` to `<empty string>`) if you don't want it to implement or extends a class (for example: inner jvm class)
4. Remove all `@Override` (Replace `@Override` to `<empty string>`)
5. Do the regex. If it's intellij, you need to repeat the same search & replace for second phase, but if it's vscode, you only have to do it once 

You can ignore all error caused by `super` after step 3, regex will do the job

### Regex

#### Phase 1

Search for:

```
\n([ ]*)((public|private|protected) )?((?!(public|private|protected))[\w_][\w\n_]*) ([\w][\w\n_]*)\((((\w)+ (\w)+(, *)?)*)\)( ?)\{([ \n]*)(return )?.*;([ \n]*)\}
```

Replace them to:

```
\n$1$2$4 $6($7)$12{$13$14this.original.$6($7);$15}
```

#### Phase 2

##### For VSCode

Search for:

```
(?<=(this\.original\.[\w_][\w\n_]*)\((([\w_][\w\n_]*) ([\w_][\w\n_]*)(?: *,? ?))*)((([\w_][\w\n_]*) ([\w_][\w\n_]*)))(?=((?: *,? ?)([\w_][\w\n_]*) ([\w_][\w\n_]*))*\))
```

Replace them to:

```
$8
```

#### For Intellij IDEA

Repeat until it can't find any more matches.

Search for:

```
((this\.original\.[\w_][\w\n_]*)\((([\w_][\w\n_]*) ([\w_][\w\n_]*)(?: *,? ?))*)((([\w_][\w\n_]*) ([\w_][\w\n_]*)))(((?: *,? ?)(([\w_][\w\n_]*) )?([\w_][\w\n_]*))*\))
```

Replace them to:

```
$1$9$10
```



### Rules

1. It must be used when the class was first created. If there's anything that may match (like string, comments, etc.), it will most likely die (Especially there's text block).
2. Indent is not required, additional spaces are also not required. If the original input is shortened, 

### Replacements

You can use lombok's `@Delegate` annotation to not hard code every delegated methods. Unless you want to do advanced stuff, you don't need to do this regex replace.

### Example

From:

```java
public class FacketBuffer {
    public FacketBuffer putChar(int index, char value) {
        return null;
    }
}
```

To:

### Video Tutorial

This one is a little bit complicated, so here's the tutorial video: [YouTube](https://youtu.be/UqU9gDWyUaY)
